# /etc/nixos/config/programs/hyprlock/hyprlock.conf
# REFINED MINIMALIST DESIGN - CATPPUCCIN MOCHA

# ============================================================================
# CATPPUCCIN MOCHA PALETTE
# ============================================================================
$base       = rgb(30, 30, 46)
$mantle     = rgb(24, 24, 37)
$crust      = rgb(17, 17, 27)
$text       = rgb(205, 214, 244)
$subtext1   = rgb(186, 194, 222)
$subtext0   = rgb(166, 173, 200)
$overlay0   = rgb(108, 112, 134)
$surface0   = rgb(49, 50, 68)
$surface1   = rgb(69, 71, 90)
$lavender   = rgb(180, 190, 254)
$mauve      = rgb(203, 166, 247)
$sapphire   = rgb(116, 199, 236)
$blue       = rgb(137, 180, 250)
$sky        = rgb(137, 220, 235)
$teal       = rgb(148, 226, 213)
$green      = rgb(166, 227, 161)
$peach      = rgb(250, 179, 135)
$rosewater  = rgb(245, 224, 220)
$flamingo   = rgb(242, 205, 205)
$pink       = rgb(245, 194, 231)
$red        = rgb(243, 139, 168)

# ============================================================================
# GENERAL
# ============================================================================
general {
    no_fade_in           = true
    grace                = 0
    disable_loading_bar  = true
    hide_cursor          = true
    ignore_empty_input   = true
    text_trim            = true
}

# ============================================================================
# BACKGROUND
# ============================================================================
background {
    monitor      =
    path         = screenshot
    color        = rgba(30, 30, 46, 0.7)
    
    blur_passes  = 3
    blur_size    = 5
    noise        = 0.005
    contrast     = 1.05
    brightness   = 0.95
    vibrancy     = 0.1
    vibrancy_darkness = 0.0
}

# ============================================================================
# TIME (Clean, No Seconds)
# ============================================================================
label {
    monitor      =
    text         = cmd[update:1000] echo "$(date +"%H:%M")"
    color        = $text
    font_size    = 120
    font_family  = JetBrains Mono Nerd Font Bold
    position     = 0, 100
    halign       = center
    valign       = center
}

# ============================================================================
# DATE (Subtle)
# ============================================================================
label {
    monitor      =
    text         = cmd[update:60000] echo "$(date +"%A, %B %d")"
    color        = $subtext0
    font_size    = 16
    font_family  = JetBrains Mono Nerd Font Light
    position     = 0, 20
    halign       = center
    valign       = center
}

# ============================================================================
# INPUT FIELD (Refined)
# ============================================================================
input-field {
    monitor      =
    size         = 300, 45
    outline_thickness = 2
    dots_size    = 0.25
    dots_spacing = 0.4
    dots_center  = true
    dots_rounding = -1
    
    rounding     = 4

    outer_color  = $lavender
    inner_color  = rgba(30, 30, 46, 0.4)
    font_color   = $text
    
    fade_on_empty = true
    fade_timeout = 1000
    placeholder_text = <span foreground="##a6adc8">Enter Password</span>
    hide_input   = false
    
    check_color  = $green
    fail_color   = $red
    fail_text    = <span foreground="##f38ba8">Incorrect</span>
    capslock_color = $peach
    
    position     = 0, -100
    halign       = center
    valign       = center
}

# ============================================================================
# STATUS BAR (Minimal Bottom Bar)
# ============================================================================
shape {
    monitor      =
    size         = 240, 40
    color        = rgba(24, 24, 37, 0.6)
    rounding     = 4
    rotate       = 0
    position     = 0, 25
    halign       = center
    valign       = bottom
}

# ============================================================================
# BATTERY STATUS
# ============================================================================
label {
    monitor      =
    text         = cmd[update:5000] ~/.config/hypr/hyprlock/scripts/battery.sh
    color        = $green
    font_size    = 11
    font_family  = JetBrains Mono Nerd Font Medium
    position     = -60, 40
    halign       = center
    valign       = bottom
    zindex       = 1
}

# ============================================================================
# KEYBOARD LAYOUT
# ============================================================================
label {
    monitor      =
    text         = cmd[update:1000] ~/.config/hypr/hyprlock/scripts/layout.sh
    color        = $lavender
    font_size    = 11
    font_family  = JetBrains Mono Nerd Font Medium
    position     = 60, 40
    halign       = center
    valign       = bottom
    zindex       = 1
}

# ============================================================================
# LAYOUT HINT (Optional - Caps Lock Indicator Alternative)
# ============================================================================
label {
    monitor      =
    text         = 
    color        = $overlay0
    font_size    = 10
    font_family  = JetBrains Mono Nerd Font
    position     = 0, -180
    halign       = center
    valign       = center
}

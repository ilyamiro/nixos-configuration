# /etc/nixos/config/programs/hyprlock/hyprlock.conf
# "ALIVE" DESIGN - CATPPUCCIN MOCHA ADAPTATION

# ============================================================================
# CATPPUCCIN MOCHA PALETTE
# ============================================================================
$base       = rgb(30, 30, 46)
$mantle     = rgb(24, 24, 37)
$crust      = rgb(17, 17, 27)
$text       = rgb(205, 214, 244)
$subtext1   = rgb(186, 194, 222)
$subtext0   = rgb(166, 173, 200)
$overlay0   = rgb(108, 112, 134)
$surface0   = rgb(49, 50, 68)
$surface1   = rgb(69, 71, 90)
$lavender   = rgb(180, 190, 254)
$mauve      = rgb(203, 166, 247)
$sapphire   = rgb(116, 199, 236)
$blue       = rgb(137, 180, 250)
$sky        = rgb(137, 220, 235)
$teal       = rgb(148, 226, 213)
$green      = rgb(166, 227, 161)
$peach      = rgb(250, 179, 135)
$rosewater  = rgb(245, 224, 220)
$flamingo   = rgb(242, 205, 205)
$pink       = rgb(245, 194, 231)
$red        = rgb(243, 139, 168)

# ============================================================================
# GENERAL
# ============================================================================
general {
    no_fade_in           = false
    grace                = 0
    disable_loading_bar  = true
    hide_cursor          = true
    ignore_empty_input   = true
    text_trim            = true
}

# ============================================================================
# BACKGROUND
# ============================================================================
background {
    monitor      =
    path         = screenshot
    # Darker overlay to make the "glow" pop more
    color        = rgba(30, 30, 46, 0.85)
    
    blur_passes  = 3
    blur_size    = 5
    noise        = 0.01
    contrast     = 0.9
    brightness   = 0.8
    vibrancy     = 0.17
    vibrancy_darkness = 0.0
}

# ============================================================================
# TIME (Glowing & Alive)
# ============================================================================
label {
    monitor      =
    text         = cmd[update:1000] echo "$(date +"%H:%M")"
    color        = $text
    font_size    = 120
    font_family  = JetBrains Mono Nerd Font ExtraBold
    position     = 0, 100
    halign       = center
    valign       = center
    
    # The "Alive" Glow Effect
    shadow_passes = 3
    shadow_size   = 4
    shadow_color  = rgb(137, 180, 250) # Blue glow
    shadow_boost  = 0.8
}

# ============================================================================
# DATE
# ============================================================================
label {
    monitor      =
    text         = cmd[update:60000] echo "$(date +"%A, %B %d")"
    color        = $subtext0
    font_size    = 16
    font_family  = JetBrains Mono Nerd Font Bold
    position     = 0, 20
    halign       = center
    valign       = center
}

# ============================================================================
# INPUT FIELD ("Alive" Pill Style)
# ============================================================================
input-field {
    monitor      =
    size         = 300, 50
    outline_thickness = 2
    dots_size    = 0.25
    dots_spacing = 0.4
    dots_center  = true
    dots_rounding = -1
    
    # Pill Shape
    rounding     = 25

    # Gradient Border (Mauve -> Blue)
    outer_color  = $mauve $blue 45deg
    inner_color  = rgba(30, 30, 46, 0.8) # Glassy background
    font_color   = $text
    
    fade_on_empty = true
    fade_timeout = 1000
    placeholder_text = <span foreground="##a6adc8" style="italic">Unlock Session</span>
    hide_input   = false
    
    check_color  = $green
    fail_color   = $red
    fail_text    = <span foreground="##f38ba8"><b>Incorrect</b></span>
    capslock_color = $peach
    
    position     = 0, -100
    halign       = center
    valign       = center
    
    # Shadow for "Lifted" feel
    shadow_passes = 3
    shadow_size   = 3
    shadow_color  = rgb(203, 166, 247)
    shadow_boost  = 0.5
}

# ============================================================================
# STATUS DOCK (Glassmorphism Pill)
# ============================================================================
shape {
    monitor      =
    size         = 240, 46
    color        = rgba(49, 50, 68, 0.6) # Surface0 with opacity
    rounding     = 20
    rotate       = 0
    position     = 0, 40
    halign       = center
    valign       = bottom
    
    # Subtle border via shape shadow isn't perfect, but we use color opacity
}

# ============================================================================
# BATTERY INFO
# ============================================================================
label {
    monitor      =
    text         = cmd[update:5000] echo "$(~/.config/hypr/hyprlock/scripts/battery.sh)"
    color        = $green
    font_size    = 11
    font_family  = JetBrains Mono Nerd Font ExtraBold
    position     = -50, 54
    halign       = center
    valign       = bottom
    zindex       = 1
    
    shadow_passes = 1
    shadow_size   = 2
}


# ============================================================================
# KEYBOARD LAYOUT
# ============================================================================
label {
    monitor      =
    text         = cmd[update:1000] echo "<span>ó°ŒŒ </span> $(~/.config/hypr/hyprlock/scripts/layout.sh)"
    color        = $lavender
    font_size    = 11
    font_family  = JetBrains Mono Nerd Font ExtraBold
    position     = 50, 54
    halign       = center
    valign       = bottom
    zindex       = 1
    
    shadow_passes = 1
    shadow_size   = 2
}
